<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./../../dist/css/style.css">
        <link rel="stylesheet" href="./../../dist/css/clientes.css">

        <link rel="stylesheet" href="./../../dist/css/modal.css">
        <link rel="stylesheet" href="./../../dist/css/pop_up.css">
        <script src="../js/jquery.js"></script>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800&display=swap"
            rel="stylesheet">

        <script src="../js/jquery.js"></script>
        <script src="../../components/loader/loader.js"></script>
        <script src="../../components/notificacao/notificacao.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/mintell/mintell.github.io/src/_request/Cliente.js"></script>

        <title>Cliente</title>

        <style>

        div.close {
            text-align: center;
            padding-top: 9px;
        }

        .close,
        #editEbook-modal-btn-yes {
            cursor: pointer;
        }
            
        #editEbook-modal-btn-yes a {
        display: inline-block;
        width: 100%;
        height: 100%;
        padding-top: 10px;
        }

        span.client-section-btn {
            text-align: center;
        }

        section.client-section-active {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        span.save-client {
            display: none;
        }

       

    </style>
    </head>
    <body class="container-menu">

        <main class="main close-content height cliente">

            <form action="#" id="form">
                <section class="client-section client-section-active">
                    <a href="clientes.html"><img src="../icon/back.svg" alt
                            style="display: block;width: 30px;float: left;"></a>
                    <span class="client-section-btn ebook-btn"
                        id="editClient-btn">EDITAR CLIENTE</span>

                    <span
                        class="client-section-btn ebook-btn modal-send save-client"
                        id="client-btn"
                        style="background:#ffff00;color:#000000">SALVAR
                        CLIENTE</span>

                </section>

                <section class="client-section">
                    <input type="text" class="client-name-input"
                        id="client-name" placeholder="Nome" required disabled>
                    <input type="datetime" class="client-phone-input"
                        id="client-phone" placeholder="Telefone" required
                        disabled>
                    <input type="text" class="client-email-input"
                        id="client-email" placeholder="Email" required disabled>
                </section>

                <textarea name="text" class="client-textarea"
                    id="client-textarea" cols="30" rows="10"
                    placeholder="Nota" required disabled></textarea>

                <!--first modal-->
                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <div class="modal-box-content">
                            <h3>Salvar Cliente ?</h3>

                            <section class="modal-box-section"
                                style="flex-direction:row;">
                                <button type="submit"
                                    class="modal-box-section-btn green modal-btn"
                                    id="editEbook-modal-btn-yes">
                                    SIM
                                </button>

                                <div
                                    class="modal-box-section-btn red modal-btn close"
                                    id="editEbook-modal-btn-no">
                                    N√ÉO
                                </div>

                            </section>
                        </div>
                    </div>
                </div>

                <div id="myOverlay" class="overlay"></div>

            </form>

            <!--the pop up-->

            <div id="myPopup" class="popup">
                <span class="close-pop-up">&times;</span>
                <p></p>
            </div>

        </main>

    </body>
    <script src="./../js/menu.js"></script>
    <script src="./../js/cliente.js"></script>
    <script src="./../js/editarClient.js"></script>
    <script>
    document.querySelector('#editClient-btn').addEventListener("click", function(){
        $("#client-btn").toggleClass("save-client");
        $("#client-name").removeAttr("disabled");
                $("#client-phone").removeAttr("disabled");
                $("#client-email").removeAttr("disabled");
                $("#client-textarea").removeAttr("disabled");
    });

     men();
            banner("mensagem enviada");
bg();
         var token = localStorage.getItem("token");

        if(!token){ 
            location.href = "../../index.html";
        }else{
            
        }

        var notificacao = new debliwuinotificacao();
        var loader = new debliwuiloader();
        document.querySelector("body").append(notificacao);
        document.querySelector("body").append(loader);
        var RequestCliente = new Cliente($, loader, notificacao);

        var chave = (location.search).split("=")[1];
        var cliente = RequestCliente.ver(chave);
        document.getElementById('form').addEventListener('submit', function (event) {                        
            event.preventDefault();

            RequestCliente.alterar(chave);

        });
</script>

</html>